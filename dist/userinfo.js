webpackJsonp([0],[,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var d,o=e[Symbol.iterator]();!(a=(d=o.next()).done)&&(n.push(d.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(5),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(8),c=a(o),s=n(7),u=a(s),l=n(10),p=a(l),f=n(11),m=a(f),v=n(12),h=a(v),y=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-avatar"),e.appendChild(t);var n=document.createElement("img");return n.src="",t.appendChild(n),function(e){return n.src=e}},k=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-default-panel"),e.appendChild(t);var n=document.createElement("div");n.classList.add("userinfo-sticky-line");var a=document.createElement("a");a.classList.add("userinfo-sticky","userinfo-sticky-msg"),a.type="button",a.href="/messages.php",a.title="点击查看",n.appendChild(a);var r=document.createElement("div");r.classList.add("userinfo-sticky-line");var i=document.createElement("button");return i.classList.add("userinfo-sticky","userinfo-sticky-sign"),i.type="button",i.title="点击签到",r.appendChild(i),t.appendChild(n),t.appendChild(r),[function(e){e?(a.appendChild(document.createTextNode("有"+e+"未读")),a.classList.add("important")):a.appendChild(document.createTextNode("收件箱"))},function(e){var t=+e.l,n=+e.t;0!==t?(i.appendChild(document.createTextNode("签到")),i.addEventListener("click",function(){(-1===t||1===t||confirm("确定重新开始签到？"))&&d.signin(function(e,t){e?alert("签到失败"):-1===t.days?alert("签到失败"):alert("连续签到"+t.days+"天，获得"+t.bonus+"魔力值")})})):(i.appendChild(document.createTextNode("已签"+n+"天")),i.classList.add("disabled"))}]},g=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-details-panel","hide"),e.appendChild(t);var n=[],a=document.createElement("div");a.classList.add("userinfo-sticky-line");var r=document.createElement("a");r.classList.add("username-link"),r.target="_blank",a.appendChild(r),n.push(a);var i=document.createElement("div");i.classList.add("userinfo-sticky-line");var o=document.createElement("span");o.appendChild(document.createTextNode("流量贡献度: ")),i.appendChild(o),n.push(i);var c=document.createElement("div");c.classList.add("userinfo-sticky-line");var s=document.createElement("span");s.appendChild(document.createTextNode("时间贡献度: ")),c.appendChild(s),n.push(c);var u=document.createElement("div");u.classList.add("userinfo-sticky-line");var l=document.createElement("span");l.appendChild(document.createTextNode("HP: ")),u.appendChild(l),n.push(u);var p=document.createElement("div");p.classList.add("userinfo-sticky-line");var f=document.createElement("span");f.appendChild(document.createTextNode("做种数: ")),p.appendChild(f),n.push(p);var m=document.createElement("div");m.classList.add("userinfo-sticky-line");var v=document.createElement("span");v.appendChild(document.createTextNode("下载数: ")),m.appendChild(v),n.push(m);var h=document.createElement("div");h.classList.add("userinfo-sticky-line");var y=document.createElement("button");y.classList.add("userinfo-sticky","userinfo-sticky-cleartracker-link"),y.type="button",y.title="清理冗余种子",y.addEventListener("click",function(){d.clearTracker(function(e,t){e?alert("清理失败"):+t>=0?alert("清理成功"):alert("清理失败")})}),y.appendChild(document.createTextNode("清理冗余种子")),h.appendChild(y),n.push(h);var k=document.createElement("div");k.classList.add("userinfo-sticky-line");var g=document.createElement("button");g.classList.add("userinfo-sticky","userinfo-sticky-exchange-link"),g.type="button",g.title="兑换魔力值",g.addEventListener("click",function(){var e=prompt("请输入要兑换的魔力值",100);if(null!==e){var t=parseInt(e,10);t>=100?d.exchangeBonus(function(e,t){!e&&t&&alert("使用"+t.cost+"HP兑换了"+t.n+"魔力值")},t):alert("请兑换100以上的魔力值")}}),g.appendChild(document.createTextNode("兑换魔力")),k.appendChild(g),n.push(k);var C=document.createElement("div");C.classList.add("userinfo-sticky-line");var L=document.createElement("button");return L.classList.add("userinfo-sticky","userinfo-sticky-exchange-link"),L.type="button",L.title="兑换HP",L.addEventListener("click",function(){var e=prompt("请输入要兑换的HP",100);if(null!==e){var t=parseInt(e,10);t>=100?d.exchangeHp(function(e,t){!e&&t&&alert("使用"+t.cost+"魔力值兑换了"+t.n+"HP")},t):alert("请兑换100以上的HP")}}),L.appendChild(document.createTextNode("兑换HP")),C.appendChild(L),n.push(C),n.forEach(function(e){t.appendChild(e)}),function(e){var t=e.info,n=e.tracker;r.classList.add("UC_"+t.class),r.appendChild(document.createTextNode(t.username)),o.appendChild(document.createTextNode((+n.up).toLocaleString())),s.appendChild(document.createTextNode((+n.time/86400).toLocaleString())),l.appendChild(document.createTextNode((+n.hp).toLocaleString())),f.appendChild(document.createTextNode((+n.seed).toLocaleString())),v.appendChild(document.createTextNode((+n.leech).toLocaleString()))}},C=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-controls-panel","hide"),e.appendChild(t);var n=document.createElement("div");n.classList.add("userinfo-sticky-line");var a=document.createElement("a");a.classList.add("userinfo-sticky","userinfo-sticky-control-link"),a.type="button",a.title="进入控制面板",a.href="/usercp.php?action=personal",a.target="_blank",a.appendChild(document.createTextNode("控制面板")),n.appendChild(a);var r=document.createElement("div");r.classList.add("userinfo-sticky-line");var i=document.createElement("a");i.classList.add("userinfo-sticky","userinfo-sticky-details-link"),i.type="button",i.title="查看个人信息",i.href="/userdetails.php",i.target="_blank",i.appendChild(document.createTextNode("个人信息")),r.appendChild(i);var d=document.createElement("div");d.classList.add("userinfo-sticky-line");var o=document.createElement("a");o.classList.add("userinfo-sticky","userinfo-sticky-rss-link"),o.type="button",o.title="订阅",o.href="/getrss.php",o.target="_blank",o.appendChild(document.createTextNode("订阅")),d.appendChild(o);var c=document.createElement("div");c.classList.add("userinfo-sticky-line");var s=document.createElement("a");s.classList.add("userinfo-sticky","userinfo-sticky-rss-link"),s.type="button",s.title="收藏",s.href="/torrents.php?inclbookmarked=1&allsec=1&incldead=0",s.target="_blank",s.appendChild(document.createTextNode("收藏")),c.appendChild(s);var u=document.createElement("div");u.classList.add("userinfo-sticky-line");var l=document.createElement("a");l.classList.add("userinfo-sticky","userinfo-sticky-rss-link"),l.type="button",l.title="使用魔力",l.href="/mybonus.php",l.target="_blank",l.appendChild(document.createTextNode("使用魔力")),u.appendChild(l),t.appendChild(n),t.appendChild(r),t.appendChild(d),t.appendChild(c),t.appendChild(u)},L=function(){var e=document.createElement("div");e.classList.add("userinfo-sticky-container");var t=document.querySelector(".mainouter"),n=document.body;if(!t||!n)return null;var a=t.getBoundingClientRect(),i=n.getBoundingClientRect();e.style.top=a.top-i.top+"px",n.appendChild(e),window.addEventListener("scroll",(0,c.default)(function(){var a=t.getBoundingClientRect(),r=n.getBoundingClientRect();e.style.top=(a.top<20?20:a.top)-r.top+"px"},250));var o=y(e),s=k(e),l=r(s,2),f=l[0],v=l[1];C(e);var L=g(e),E={info:p.default,unread:0,sign:m.default};d.getBasicInfo(function(e,t){!e&&t&&(E.info=t),o(E.info.avatar)}),d.getUnread(function(e,t){!e&&t&&(E.unread=t),f(E.unread)}),d.getSignInfo(function(e,t){!e&&t&&(E.sign=t),v(E.sign)});var b=e.querySelector(".userinfo-sticky-avatar"),x=e.querySelector(".userinfo-sticky-controls-panel"),T=e.querySelector(".userinfo-sticky-details-panel"),_=!1;if(b&&x){var N=function t(n){(0,u.default)(n.target,e)||(e.classList.remove("bgcolor"),x.classList.add("hide"),T.classList.add("hide"),document.body.removeEventListener("click",t))},w=function(){_||d.getTrackerInfo(function(e,t){var n=!e&&t?t:h.default;E.tracker=n,_=!0,L(E)}),e.classList.add("bgcolor"),x.classList.remove("hide"),T.classList.remove("hide"),document.body.addEventListener("click",N)};b.addEventListener("click",w)}return e};t.default=L},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.exchangeHp=t.exchangeBonus=t.clearTracker=t.signin=t.getSignInfo=t.getUnread=t.getTrackerInfo=t.getBasicInfo=void 0;var r=n(0),i=a(r),d=n(9),o=a(d),c="/tracker/info.php";t.getBasicInfo=function(e){return i.default.get(c).query({info:"user",type:"simple"}).end((0,o.default)(e))},t.getTrackerInfo=function(e){return i.default.get(c).query({info:"tracker"}).end((0,o.default)(e))},t.getUnread=function(e){return i.default.get(c).query({info:"unread"}).end((0,o.default)(e))},t.getSignInfo=function(e){return i.default.get(c).query({info:"sign",type:"view"}).end((0,o.default)(e))},t.signin=function(e){return i.default.get("/take_signin_bonus.php").query({sign:"1"}).end((0,o.default)(e))},t.clearTracker=function(e){return i.default.get(c).query({info:"tracker",type:"clean"}).end((0,o.default)(e))},t.exchangeBonus=function(e,t){return i.default.get("/tracker/bonus.php").query({method:"exchange",n:t}).end((0,o.default)(e))},t.exchangeHp=function(e,t){return i.default.get("/tracker/bonus.php").query({method:"exchange",n:t,heal:"hp"}).end((0,o.default)(e))}},function(e,t,n){"use strict";var a=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(a);window.addEventListener("load",function(){(0,r.default)()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t,n){return t!==document.body&&(t===n||e(t.parentNode,n))};t.default=a},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,i=void 0,d=void 0,o=0,c=Boolean(n.start),s=!("end"in n)||Boolean(n.end),u=+t||0,l=Boolean(n.max),p=+n.max||0,f=function(t){var n=d;return o=t,d=void 0,e.apply(void 0,a(n))},m=function(e){var t=e-i,n=e-o;return void 0===i||t<0||t>=u||l&&n>=p},v=function(e){var t=e-i,n=e-o;return l?Math.min(u-t,p-n):u-t},h=function e(){var t=Date.now();if(m(t))return r=void 0,s&&d?void f(t):void(d=void 0);r=setTimeout(e,v(t))},y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Date.now();if(d=t,m(a)){if(i=a,void 0===r&&(o=a,r=setTimeout(h,u),c))return f(a);if(l)return r=setTimeout(h,u),f(a)}i=a,void 0===r&&(r=setTimeout(h,u))};return y.abort=function(){void 0!==r&&clearTimeout(r),r=void 0,i=void 0,o=0},y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){try{return JSON.parse(e)}catch(t){return e}};t.default=function(e){return function(t,n){if(t)return void e(t);n.ok||e(new Error("Unknow error")),e(null,a(n.body||n.text))}}},function(e,t){e.exports={id:"",username:"(接口异常)",email:"",class:"",avatar:"/pic/default_avatar.png",seedbonus:"0",donor:"no",noad:"no",parked:"no",leechwarn:"no",status:"confirmed"}},function(e,t){e.exports={l:"0",t:"0"}},function(e,t){e.exports={up:0,hp:"0",time:"0",seed:0,leech:0}}],[6]);
webpackJsonp([0],[,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var d,o=e[Symbol.iterator]();!(a=(d=o.next()).done)&&(n.push(d.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(5),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),o=n(8),c=a(o),s=n(7),u=a(s),l=n(10),p=a(l),f=n(11),m=a(f),v=n(12),h=a(v),y=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-avatar"),e.appendChild(t);var n=document.createElement("img");return n.src="",t.appendChild(n),function(e){return n.src=e}},k=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-default-panel"),e.appendChild(t);var n=document.createElement("div");n.classList.add("userinfo-sticky-line");var a=document.createElement("a");a.classList.add("userinfo-sticky","userinfo-sticky-msg"),a.type="button",a.href="/messages.php",a.title="点击查看",n.appendChild(a);var i=document.createElement("div");i.classList.add("userinfo-sticky-line");var r=document.createElement("a");return r.classList.add("userinfo-sticky","userinfo-sticky-sign"),r.type="button",r.href="/take_signin_bonus.php?total_days=1",r.title="点击签到",i.appendChild(r),t.appendChild(n),t.appendChild(i),[function(e){e?(a.appendChild(document.createTextNode("有"+e+"未读")),a.classList.add("important")):a.appendChild(document.createTextNode("收件箱"))},function(e){e>0?(r.appendChild(document.createTextNode("已签"+e+"天")),r.classList.add("disabled")):r.appendChild(document.createTextNode("签到"))}]},C=function(e){var t=document.createElement("div");t.classList.add("userinfo-sticky-details-panel"),e.appendChild(t);var n=document.createElement("div");n.classList.add("userinfo-sticky-line");var a=document.createElement("a");a.classList.add("username-link"),a.target="_blank",n.appendChild(a);var i=document.createElement("div");i.classList.add("userinfo-sticky-line");var r=document.createElement("span");r.appendChild(document.createTextNode("流量贡献度: ")),i.appendChild(r);var d=document.createElement("div");d.classList.add("userinfo-sticky-line");var o=document.createElement("span");o.appendChild(document.createTextNode("时间贡献度: ")),d.appendChild(r);var c=document.createElement("div");c.classList.add("userinfo-sticky-line");var s=document.createElement("span");s.appendChild(document.createTextNode("HP: ")),c.appendChild(s);var u=document.createElement("div");u.classList.add("userinfo-sticky-line");var l=document.createElement("span");l.appendChild(document.createTextNode("做种数: ")),u.appendChild(l);var p=document.createElement("div");p.classList.add("userinfo-sticky-line");var f=document.createElement("span");f.appendChild(document.createTextNode("下载数: ")),p.appendChild(f);var m=document.createElement("div");m.classList.add("userinfo-sticky-line");var v=document.createElement("a");return v.classList.add("userinfo-sticky","userinfo-sticky-cleartracker-link"),v.type="button",v.title="清理冗余种子",v.href="/tracker/info.php?info=tracker&type=clean",v.target="_blank",v.appendChild(document.createTextNode("清理冗余种子")),m.appendChild(v),t.appendChild(n),t.appendChild(i),t.appendChild(d),t.appendChild(c),t.appendChild(u),t.appendChild(p),t.appendChild(m),function(e){var t=e.info,n=e.tracker;a.classList.add("UC_"+t.class),a.appendChild(document.createTextNode(t.username)),r.appendChild(document.createTextNode((+n.up).toLocaleString())),o.appendChild(document.createTextNode((+n.time/86400).toLocaleString())),r.appendChild(document.createTextNode((+n.seed).toLocaleString())),f.appendChild(document.createTextNode((+n.leech).toLocaleString()))}},g=function(e){var t=document.createElement("section");t.classList.add("userinfo-sticky-controls-panel","hide"),e.appendChild(t);var n=document.createElement("div");n.classList.add("userinfo-sticky-line");var a=document.createElement("a");a.classList.add("userinfo-sticky","userinfo-sticky-control-link"),a.type="button",a.title="进入控制面板",a.href="/usercp.php?action=personal",a.target="_blank",a.appendChild(document.createTextNode("控制面板")),n.appendChild(a);var i=document.createElement("div");i.classList.add("userinfo-sticky-line");var r=document.createElement("a");r.classList.add("userinfo-sticky","userinfo-sticky-details-link"),r.type="button",r.title="查看个人信息",r.href="/userdetails.php",r.target="_blank",r.appendChild(document.createTextNode("个人信息")),i.appendChild(r);var d=document.createElement("div");d.classList.add("userinfo-sticky-line");var o=document.createElement("a");o.classList.add("userinfo-sticky","userinfo-sticky-rss-link"),o.type="button",o.title="订阅",o.href="/getrss.php",o.target="_blank",o.appendChild(document.createTextNode("订阅")),d.appendChild(o);var c=document.createElement("div");c.classList.add("userinfo-sticky-line");var s=document.createElement("a");s.classList.add("userinfo-sticky","userinfo-sticky-rss-link"),s.type="button",s.title="收藏",s.href="/torrents.php?inclbookmarked=1&allsec=1&incldead=0",s.target="_blank",s.appendChild(document.createTextNode("收藏")),c.appendChild(o),t.appendChild(n),t.appendChild(i),t.appendChild(d),t.appendChild(c)},L=function(){var e=document.createElement("div");e.classList.add("userinfo-sticky-container");var t=document.querySelector(".mainouter"),n=document.body;if(!t||!n)return null;var a=t.getBoundingClientRect(),r=n.getBoundingClientRect();e.style.top=a.top-r.top+"px",n.appendChild(e),window.addEventListener("scroll",(0,c.default)(function(){var a=t.getBoundingClientRect(),i=n.getBoundingClientRect();e.style.top=(a.top<20?20:a.top)-i.top+"px"},250));var o=y(e),s=k(e),l=i(s,2),f=l[0],v=l[1];g(e);var L=C(e),E={info:p.default,unread:0,sign:m.default};d.getBasicInfo(function(e,t){!e&&t&&(E.info=t),o(E.info.avatar)}),d.getUnread(function(e,t){!e&&t&&(E.unread=t),f(E.unread)}),d.getSignInfo(function(e,t){!e&&t&&(E.sign=t),v("0"===E.sign.l?+E.sign.t:0)});var b=e.querySelector(".userinfo-sticky-avatar"),_=e.querySelector(".userinfo-sticky-controls-panel"),T=e.querySelector(".userinfo-sticky-details-panel"),x=!1;if(b&&_){var N=function t(n){(0,u.default)(n.target,e)||(_.classList.add("hide"),T.classList.add("hide"),document.body.removeEventListener("click",t))},w=function(){x||d.getTrackerInfo(function(e,t){var n=!e&&t?t:h.default;E.tracker=n,x=!0,L(E)}),_.classList.remove("hide"),T.classList.remove("hide"),document.body.addEventListener("click",N)};b.addEventListener("click",w)}return e};t.default=L},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSignInfo=t.getUnread=t.getTrackerInfo=t.getBasicInfo=void 0;var i=n(0),r=a(i),d=n(9),o=a(d),c="/tracker/info.php";t.getBasicInfo=function(e){return r.default.get(c).accept("json").query({info:"user",type:"simple"}).end((0,o.default)(e))},t.getTrackerInfo=function(e){return r.default.get(c).accept("json").query({info:"tracker"}).end((0,o.default)(e))},t.getUnread=function(e){return r.default.get(c).accept("json").query({info:"unread"}).end((0,o.default)(e))},t.getSignInfo=function(e){return r.default.get(c).accept("json").query({info:"sign",type:"view"}).end((0,o.default)(e))}},function(e,t,n){"use strict";var a=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a);window.addEventListener("load",function(){(0,i.default)()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function e(t,n){return t!==document.body&&(t===n||e(t.parentNode,n))};t.default=a},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,r=void 0,d=void 0,o=0,c=Boolean(n.start),s=!("end"in n)||Boolean(n.end),u=+t||0,l=Boolean(n.max),p=+n.max||0,f=function(t){var n=d;return o=t,d=void 0,e.apply(void 0,a(n))},m=function(e){var t=e-r,n=e-o;return void 0===r||t<0||t>=u||l&&n>=p},v=function(e){var t=e-r,n=e-o;return l?Math.min(u-t,p-n):u-t},h=function e(){var t=Date.now();if(m(t))return i=void 0,s&&d?void f(t):void(d=void 0);i=setTimeout(e,v(t))},y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=Date.now();if(d=t,m(a)){if(r=a,void 0===i&&(o=a,i=setTimeout(h,u),c))return f(a);if(l)return i=setTimeout(h,u),f(a)}r=a,void 0===i&&(i=setTimeout(h,u))};return y.abort=function(){void 0!==i&&clearTimeout(i),i=void 0,r=void 0,o=0},y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){try{return JSON.parse(e)}catch(t){return e}};t.default=function(e){return function(t,n){if(t)return void e(t);n.ok||e(new Error("Unknow error")),e(null,a(n.body))}}},function(e,t){e.exports={id:"",username:"(接口异常)",email:"",class:"",avatar:"/pic/default_avatar.png",seedbonus:"0",donor:"no",noad:"no",parked:"no",leechwarn:"no",status:"confirmed"}},function(e,t){e.exports={l:"0",t:"0"}},function(e,t){e.exports={up:0,hp:"0",time:"0",seed:0,leech:0}}],[6]);